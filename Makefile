.SILENT:

#--------------------------------------------------------------------------------------------------
COMPILER = g++
ASM      = nasm
LD       = ld
#--------------------------------------------------------------------------------------------------


#--------------------------------------------------------------------------------------------------
SRC = myPrintf.s     
OBJ = $(SRC:.s=.o)   
BIN = myPrintf         
#--------------------------------------------------------------------------------------------------


#--------------------------------------------------------------------------------------------------
ASFLAGS = -f elf64 -g -F dwarf
#--------------------------------------------------------------------------------------------------


#--------------------------------------------------------------------------------------------------
run: $(BIN)
	./$(BIN)
#--------------------------------------------------------------------------------------------------
     

#--------------------------------------------------------------------------------------------------
clean: 
	rm -f $(OBJ) $(BIN)
#--------------------------------------------------------------------------------------------------


#--------------------------------------------------------------------------------------------------
$(BIN): $(OBJ)
	$(LD) $(LDFLAGS) -o $@ $^
#--------------------------------------------------------------------------------------------------


#--------------------------------------------------------------------------------------------------
%.o: %.s
	$(ASM) $(ASFLAGS) $< -o $@
#--------------------------------------------------------------------------------------------------